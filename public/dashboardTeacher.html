<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<link rel="icon" type="image/png" href="assets_2/img/favicon.ico">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

	<title>Light Bootstrap Dashboard by Creative Tim</title>

	<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />


    <!-- Bootstrap core CSS     -->
    <link href="assets_2/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Animation library for notifications   -->
    <link href="assets_2/css/animate.min.css" rel="stylesheet"/>

    <!--  Light Bootstrap Table core CSS    -->
    <link href="assets_2/css/light-bootstrap-dashboard.css" rel="stylesheet"/>


    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="assets_2/css/demo.css" rel="stylesheet" />


    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,700,300' rel='stylesheet' type='text/css'>
    <link href="assets_2/css/pe-icon-7-stroke.css" rel="stylesheet" />


</head>
<body>

<div class="wrapper">
    <div class="sidebar" data-color="purple" data-image="assets_2/img/sidebar-5.jpg">

    <!--

        Tip 1: you can change the color of the sidebar using: data-color="blue | azure | green | orange | red | purple"
        Tip 2: you can also add an image using data-image tag

    -->

    	<div class="sidebar-wrapper">
            <div class="logo">
                <a href="index.html" class="simple-text">
                    明奈線上日文
                </a>
            </div>

            <ul class="nav">
                <li class="active">
                    <a href="dashboard.html">
                        <i class="pe-7s-graph"></i>
                        <p>Dashboard</p>
                    </a>
                </li>
                <li>
                    <a href="user.html">
                        <i class="pe-7s-user"></i>
                        <p>個人資料</p>
                    </a>
                </li>
                <li>
                    <a href="table.html">
                        <i class="pe-7s-note2"></i>
                        <p>學生們</p>
                    </a>
                </li>

<!--
                <li>
                    <a href="typography.html">
                        <i class="pe-7s-news-paper"></i>
                        <p>Typography</p>
                    </a>
                </li>
                <li>
                    <a href="icons.html">
                        <i class="pe-7s-science"></i>
                        <p>Icons</p>
                    </a>
                </li>
                <li>
                    <a href="maps.html">
                        <i class="pe-7s-map-marker"></i>
                        <p>Maps</p>
                    </a>
                </li>
                <li>
                    <a href="notifications.html">
                        <i class="pe-7s-bell"></i>
                        <p>Notifications</p>
                    </a>
                </li>
				<li class="active-pro">
                    <a href="upgrade.html">
                        <i class="pe-7s-rocket"></i>
                        <p>Upgrade to PRO</p>
                    </a>
                </li>
                -->
            </ul>
    	</div>
    </div>

    <div class="main-panel">
        <nav class="navbar navbar-default navbar-fixed">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navigation-example-2">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="index.html">回到首頁</a>
                </div>
                <div class="collapse navbar-collapse">

<!-- Some Useless Icons, Notification Functions, and Account Functions
                    <ul class="nav navbar-nav navbar-left">
                        <li>
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="fa fa-dashboard"></i>
                            </a>
                        </li>
                        <li class="dropdown">
                              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    <i class="fa fa-globe"></i>
                                    <b class="caret"></b>
                                    <span class="notification">5</span>
                              </a>
                              <ul class="dropdown-menu">
                                <li><a href="#">Notification 1</a></li>
                                <li><a href="#">Notification 2</a></li>
                                <li><a href="#">Notification 3</a></li>
                                <li><a href="#">Notification 4</a></li>
                                <li><a href="#">Another notification</a></li>
                              </ul>
                        </li>
                        <li>
                           <a href="">
                                <i class="fa fa-search"></i>
                            </a>
                        </li>
                    </ul>
-->                    

                    <ul class="nav navbar-nav navbar-right">
                        <!--<li>
                           <a href="">
                               Account
                            </a>
                        </li>
                        <li class="dropdown">
                              <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                    Dropdown
                                    <b class="caret"></b>
                              </a>
                              <ul class="dropdown-menu">
                                <li><a href="#">Action</a></li>
                                <li><a href="#">Another action</a></li>
                                <li><a href="#">Something</a></li>
                                <li><a href="#">Another action</a></li>
                                <li><a href="#">Something</a></li>
                                <li class="divider"></li>
                                <li><a href="#">Separated link</a></li>
                              </ul>
                        </li>-->

                        <li>
                            <a href="javascript:logoutUser();">
                                Log out
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>


        <div class="content">
            <div class="container-fluid">
                <div class="row">

                        <div class="container" ng-app="scheduleApp" ng-controller="mainController">

                            <div class="row times">
                            </div>    
                            
                            
                        </div>
                    
<!--
                        div class="col-xs-6">
                        <div class="card">
                            <div class="content">
                            <div id="loginStatus">Something</div>
                            <form onsubmit="return addUsername(event)">
                                    UserName: <input type="text" name="username" size="10"><br>
                                    <div style="margin-top: 5px;"></div>
                                    <input type="submit" value="Submit">
                                    <div style="margin-top: 15px;"></div>
                            </form>
                                <form id='form1' onsubmit="return addSchedule(event)">
                                    這週有空的時間: <br>
                                    星期一 <br>
                                    上午 <br/>
                                    8:00~9:00 <input type="checkbox" name="availableTimeM" value='1'><br>
                                    9:00~10:00 <input type="checkbox" name="availableTimeM" value='2'><br>
                                    10:00~11:00 <input type="checkbox" name="availableTimeM" value='3'><br>
                                    11:00~12:00 <input type="checkbox" name="availableTimeM" value='4'><br>
                                    下午 <br/>
                                    12:00~13:00 <input type="checkbox" name="availableTimeM" value='5'><br>
                                    13:00~14:00 <input type="checkbox" name="availableTimeM" value='6'><br>
                                    14:00~15:00 <input type="checkbox" name="availableTimeM" value='7'><br>
                                    15:00~16:00 <input type="checkbox" name="availableTimeM" value='8'><br>
                                    16:00~17:00 <input type="checkbox" name="availableTimeM" value='9'><br>
                                    17:00~18:00 <input type="checkbox" name="availableTimeM" value='10'><br>
                                    18:00~19:00 <input type="checkbox" name="availableTimeM" value='11'><br>
                                    19:00~20:00 <input type="checkbox" name="availableTimeM" value='12'><br>
                                    21:00~22:00 <input type="checkbox" name="availableTimeM" value='13'><br>
                                    22:00~23:00 <input type="checkbox" name="availableTimeM" value='14'><br>
                                    23:00~24:00 <input type="checkbox" name="availableTimeM" value='15'><br>
                                    <input type="submit" value="Submit">
                                </form>
                            </div>
                        </div>
                    </div>

                    <div class="col-xs-6">
                        <div class="card">
                            <div class="content">
                                <form onsubmit="return addSchedule(event)">
                                    星期二 <br>
                                    上午 <br/>
                                    8:00~9:00 <input type="checkbox" name="availableTimeTu" value='1'><br>
                                    9:00~10:00 <input type="checkbox" name="availableTimeTu" value='2'><br>
                                    10:00~11:00 <input type="checkbox" name="availableTimeTu" value='3'><br>
                                    11:00~12:00 <input type="checkbox" name="availableTimeTu" value='4'><br>
                                    下午 <br/>
                                    12:00~13:00 <input type="checkbox" name="availableTimeTu" value='5'><br>
                                    13:00~14:00 <input type="checkbox" name="availableTimeTu" value='6'><br>
                                    14:00~15:00 <input type="checkbox" name="availableTimeTu" value='7'><br>
                                    15:00~16:00 <input type="checkbox" name="availableTimeTu" value='8'><br>
                                    16:00~17:00 <input type="checkbox" name="availableTimeTu" value='9'><br>
                                    17:00~18:00 <input type="checkbox" name="availableTimeTu" value='10'><br>
                                    18:00~19:00 <input type="checkbox" name="availableTimeTu" value='11'><br>
                                    19:00~20:00 <input type="checkbox" name="availableTimeTu" value='12'><br>
                                    21:00~22:00 <input type="checkbox" name="availableTimeTu" value='13'><br>
                                    22:00~23:00 <input type="checkbox" name="availableTimeTu" value='14'><br>
                                    23:00~24:00 <input type="checkbox" name="availableTimeTu" value='15'><br>
                                    <input type="submit" value="Submit">
                                </form>
                            </div>
                        </div>
                    </div>
-->

                    <div class='row'>
                        <div class="col-xs-4">
                            <div class="card">
                                <div class="content">
                                    <button type='button' onclick='retrieveSchedule()'>Retrieve Schedule</button>
                                    <div id='weeklySchedule'></div>
                                    <a href='calender.html'>我的時刻表</a>
                                </div>
                            </div>
                        </div>
                    </div>

<!--
                    <div class="col-md-4">
                        <div class="card">
                            <div class="header">
                                <h4 class="title">Users Behavior</h4>
                                <p class="category">24 Hours performance</p>
                            </div>
                            <div class="content">
                                <div id="chartHours" class="ct-chart"></div>
                                <div class="footer">
                                    <div class="legend">
                                        <i class="fa fa-circle text-info"></i> Open
                                        <i class="fa fa-circle text-danger"></i> Click
                                        <i class="fa fa-circle text-warning"></i> Click Second Time
                                    </div>
                                    <hr>
                                    <div class="stats">
                                        <i class="fa fa-history"></i> Updated 3 minutes ago
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
-->
                </div>



                <div class="row">
                    <div class="col-md-6">
                        <div class="card ">
                            <div class="header">
                                <h4 class="title">2014 Sales</h4>
                                <p class="category">All products including Taxes</p>
                            </div>
                            <div class="content">
                                <div id="chartActivity" class="ct-chart"></div>

                                <div class="footer">
                                    <div class="legend">
                                        <i class="fa fa-circle text-info"></i> Tesla Model S
                                        <i class="fa fa-circle text-danger"></i> BMW 5 Series
                                    </div>
                                    <hr>
                                    <div class="stats">
                                        <i class="fa fa-check"></i> Data information certified
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="card ">
                            <div class="header">
                                <h4 class="title">Tasks</h4>
                                <p class="category">Backend development</p>
                            </div>
                            <div class="content">
                                <div class="table-full-width">
                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <td>
                                                    <label class="checkbox">
                                                        <input type="checkbox" value="" data-toggle="checkbox">
                                                    </label>
                                                </td>
                                                <td>Sign contract for "What are conference organizers afraid of?"</td>
                                                <td class="td-actions text-right">
                                                    <button type="button" rel="tooltip" title="Edit Task" class="btn btn-info btn-simple btn-xs">
                                                        <i class="fa fa-edit"></i>
                                                    </button>
                                                    <button type="button" rel="tooltip" title="Remove" class="btn btn-danger btn-simple btn-xs">
                                                        <i class="fa fa-times"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label class="checkbox">
                                                        <input type="checkbox" value="" data-toggle="checkbox" checked="">
                                                    </label>
                                                </td>
                                                <td>Lines From Great Russian Literature? Or E-mails From My Boss?</td>
                                                <td class="td-actions text-right">
                                                    <button type="button" rel="tooltip" title="Edit Task" class="btn btn-info btn-simple btn-xs">
                                                        <i class="fa fa-edit"></i>
                                                    </button>
                                                    <button type="button" rel="tooltip" title="Remove" class="btn btn-danger btn-simple btn-xs">
                                                        <i class="fa fa-times"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label class="checkbox">
                                                        <input type="checkbox" value="" data-toggle="checkbox" checked="">
                                                    </label>
                                                </td>
                                                <td>Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroit
                                                </td>
                                                <td class="td-actions text-right">
                                                    <button type="button" rel="tooltip" title="Edit Task" class="btn btn-info btn-simple btn-xs">
                                                        <i class="fa fa-edit"></i>
                                                    </button>
                                                    <button type="button" rel="tooltip" title="Remove" class="btn btn-danger btn-simple btn-xs">
                                                        <i class="fa fa-times"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label class="checkbox">
                                                        <input type="checkbox" value="" data-toggle="checkbox">
                                                    </label>
                                                </td>
                                                <td>Create 4 Invisible User Experiences you Never Knew About</td>
                                                <td class="td-actions text-right">
                                                    <button type="button" rel="tooltip" title="Edit Task" class="btn btn-info btn-simple btn-xs">
                                                        <i class="fa fa-edit"></i>
                                                    </button>
                                                    <button type="button" rel="tooltip" title="Remove" class="btn btn-danger btn-simple btn-xs">
                                                        <i class="fa fa-times"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label class="checkbox">
                                                        <input type="checkbox" value="" data-toggle="checkbox">
                                                    </label>
                                                </td>
                                                <td>Read "Following makes Medium better"</td>
                                                <td class="td-actions text-right">
                                                    <button type="button" rel="tooltip" title="Edit Task" class="btn btn-info btn-simple btn-xs">
                                                        <i class="fa fa-edit"></i>
                                                    </button>
                                                    <button type="button" rel="tooltip" title="Remove" class="btn btn-danger btn-simple btn-xs">
                                                        <i class="fa fa-times"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td>
                                                    <label class="checkbox">
                                                        <input type="checkbox" value="" data-toggle="checkbox">
                                                    </label>
                                                </td>
                                                <td>Unfollow 5 enemies from twitter</td>
                                                <td class="td-actions text-right">
                                                    <button type="button" rel="tooltip" title="Edit Task" class="btn btn-info btn-simple btn-xs">
                                                        <i class="fa fa-edit"></i>
                                                    </button>
                                                    <button type="button" rel="tooltip" title="Remove" class="btn btn-danger btn-simple btn-xs">
                                                        <i class="fa fa-times"></i>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>

                                <div class="footer">
                                    <hr>
                                    <div class="stats">
                                        <i class="fa fa-history"></i> Updated 3 minutes ago
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <footer class="footer">
            <div class="container-fluid">
                <nav class="pull-left">
                    <ul>
                        <li>
                            <a href="#">
                                Home
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                Company
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                Portfolio
                            </a>
                        </li>
                        <li>
                            <a href="#">
                               Blog
                            </a>
                        </li>
                    </ul>
                </nav>
                <p class="copyright pull-right">
                    &copy; 2016 <a href="index.html">明奈線上日文</a>, made with love for a better web
                </p>
            </div>
        </footer>

    </div>
</div>

        <!-- Google CDN Jquery-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

        <!-- Firebase -->

        <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase.js"></script>
        <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyCTAD_8dK9w5MYRvPNbHr7isUGcIZNtDrU",
            authDomain: "project-3373896903953203314.firebaseapp.com",
            databaseURL: "https://project-3373896903953203314.firebaseio.com",
            storageBucket: "project-3373896903953203314.appspot.com",
        };
        //Basic Firebase Saving Data
        firebase.initializeApp(config);
        var db = firebase.database();

        function addUsername(event) {
            var uid = firebase.auth().currentUser.uid
            var form = event.target;
            var username = form.username.value;

            db.ref().child(uid).set({
            username: username,
            uid: uid
            });
            event.preventDefault();
            return false;
        }

        function addSchedule(event) {
            var uid = firebase.auth().currentUser.uid
            var form = event.target;
            var availableTime = form.availableTimeM;
            //var newArray = [];
            var availableTimeM = [];
            //for availableTime.length
            for (i=0; i < availableTime.length; i++){
                //  var input = availableTimeM[i];
                var checkedAvailableTimeM = availableTime[i];
                //if input.checked
                if (checkedAvailableTimeM.checked) {
                    //newArray.push(input.value)
                    availableTimeM.push(checkedAvailableTimeM.value);
                }
            }
            db.ref().child(uid).child('thisWeekSchedule').set({
            availableTime: availableTimeM //newArray
            });
            event.preventDefault();
            return false;
        }

        // Attach an asynchronous callback to read the data at our posts reference
        function retrieveSchedule() {
            var uid = firebase.auth().currentUser.uid;
            db.ref().orderByChild('uid').equalTo(uid).on("child_added", function(snapshot) {
                console.log(snapshot.val());
                //console.log(snapshot.val().availableTime);
                $('#weeklySchedule').append(snapshot.val().username);
                $('#weeklySchedule').append(snapshot.val().thisWeekSchedule.availableTime);
                }, function (errorObject) {
                console.log("The read failed: " + errorObject.code);
            });
        }


        //Firebaes Lougout User
        function logoutUser() {
            firebase.auth().signOut().then(function() {
                alert("Sign-out successful.");
            }, function(error) {
                alert("An error happened.");
            });
        }

        $('document').ready(function() {
            firebase.auth().onAuthStateChanged(function(user) {
                var statusDiv = document.getElementById("loginStatus");
                
                if (user) {
                    // User is signed in.
                    statusDiv.innerHTML = user.email;
                    //console.log(user.uid);
                    db.ref().orderByChild('uid').equalTo(user.uid).on("child_added", function(snapshot) {
                        //console.log(snapshot.val());
                        //console.log(snapshot.val().availableTime);
                        $('#weeklySchedule').append(snapshot.val().username);
                        $('#weeklySchedule').append(snapshot.val().thisWeekSchedule.availableTime);
                        }, function (errorObject) {
                        console.log("The read failed: " + errorObject.code);
                    });

                } else {
                    // No user is signed in.
                    document.location.href = 'login.html';
                }
            });
        });

        </script>

                                <link href='../public/scheduler/fullcalendar.css' rel='stylesheet' />
                                <link href='../public/scheduler/fullcalendar.print.css' rel='stylesheet' media='print' />
                                <script src='../public/scheduler/lib/moment.min.js'></script>
                                <script src='../public/scheduler/lib/jquery.min.js'></script>
                                <script src='../public/scheduler/fullcalendar.min.js'></script>
                                <script>

                                    $(document).ready(function() {
                                        
                                        $('#calendar').fullCalendar({
                                            header: {
                                                left: 'prev,next today',
                                                center: 'title',
                                                right: 'month,basicWeek,basicDay'
                                            },
                                            defaultDate: '2016-06-12',
                                            editable: true,
                                            eventLimit: true, // allow "more" link when too many events
                                            events: [
                                                {
                                                    title: 'All Day Event',
                                                    start: '2016-06-01'
                                                },
                                                {
                                                    title: 'Long Event',
                                                    start: '2016-06-07',
                                                    end: '2016-06-10'
                                                },
                                                {
                                                    id: 999,
                                                    title: 'Repeating Event',
                                                    start: '2016-06-09T16:00:00'
                                                },
                                                {
                                                    id: 999,
                                                    title: 'Repeating Event',
                                                    start: '2016-06-16T16:00:00'
                                                },
                                                {
                                                    title: 'Conference',
                                                    start: '2016-06-11',
                                                    end: '2016-06-13'
                                                },
                                                {
                                                    title: 'Meeting',
                                                    start: '2016-06-12T10:30:00',
                                                    end: '2016-06-12T12:30:00'
                                                },
                                                {
                                                    title: 'Lunch',
                                                    start: '2016-06-12T12:00:00'
                                                },
                                                {
                                                    title: 'Meeting',
                                                    start: '2016-06-12T14:30:00'
                                                },
                                                {
                                                    title: 'Happy Hour',
                                                    start: '2016-06-12T17:30:00'
                                                },
                                                {
                                                    title: 'Dinner',
                                                    start: '2016-06-12T20:00:00'
                                                },
                                                {
                                                    title: 'Birthday Party',
                                                    start: '2016-06-13T07:00:00'
                                                },
                                                {
                                                    title: 'Click for Google',
                                                    url: 'http://google.com/',
                                                    start: '2016-06-28'
                                                }
                                            ]
                                        });
                                        
                                    });

                                </script>
                                <style>

                                    body {
                                        margin: 40px 10px;
                                        padding: 0;
                                        font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
                                        font-size: 14px;
                                    }

                                    #calendar {
                                        max-width: 900px;
                                        margin: 0 auto;
                                    }

                                </style>

</body>

    <!--   Core JS Files   -->
	<script src="assets_2/js/bootstrap.min.js" type="text/javascript"></script>

	<!--  Checkbox, Radio & Switch Plugins -->
	<script src="assets_2/js/bootstrap-checkbox-radio-switch.js"></script>

	<!--  Charts Plugin -->
	<script src="assets_2/js/chartist.min.js"></script>

    <!--  Notifications Plugin    -->
    <script src="assets_2/js/bootstrap-notify.js"></script>

    <!--  Google Maps Plugin    -->
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>

    <!-- Light Bootstrap Table Core javascript and methods for Demo purpose -->
	<script src="assets_2/js/light-bootstrap-dashboard.js"></script>

	<!-- Light Bootstrap Table DEMO methods, don't include it in your project! -->
	<script src="assets_2/js/demo.js"></script>

	<script type="text/javascript">
    	$(document).ready(function(){

        	demo.initChartist();

        	$.notify({
            	icon: 'pe-7s-gift',
            	message: "Welcome to <b>Light Bootstrap Dashboard</b> - a beautiful freebie for every web developer."

            },{
                type: 'info',
                timer: 4000
            });

    	});
	</script>

</html>
